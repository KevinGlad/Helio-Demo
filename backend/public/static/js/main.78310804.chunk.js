(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=(a(33),a(34),a(11)),u=a(7),s=a(8),i=r.a.createContext(),m=function(e){var t=r.a.useState([]),a=Object(s.a)(t,2),n=a[0],o=a[1],l=r.a.useState(!1),c=Object(s.a)(l,2),u=c[0],m=c[1],E=r.a.useState(""),d=Object(s.a)(E,2),h=d[0],p=d[1];return r.a.createElement(i.Provider,{value:{users:n,setUsers:o,loggedIn:u,checkUser:function(e,t){var a=!1;return fetch("".concat("","/").concat("api/v1","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,password:t})}).then((function(e){if(!e.ok)throw new Error("Login Error");return e.json()})).then((function(e){console.log(e),e.hasOwnProperty("authenticated")&&(m(e.authenticated),!0===e.authenticated&&p(e.token),a=e.authenticated)})).catch((function(e){console.log(e.message)})),a},token:h}},e.children)},E=i.Consumer,d=a(27),h=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(E,null,(function(e){var n=e.loggedIn;return r.a.createElement(u.b,Object.assign({render:function(e){return n?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/"})}},a))}))},p=a(6),f=a(13),g=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),o=a[0],l=a[1],u=r.a.useState(""),m=Object(s.a)(u,2),d=m[0],h=m[1],g=Object(n.useContext)(i).token;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"signUpUserName"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:function(e){e.preventDefault(),l(e.target.value)},value:o})),r.a.createElement(p.a.Group,{controlId:"signUpPassword"},r.a.createElement(p.a.Label,null,"New Password"),r.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){e.preventDefault(),h(e.target.value)},value:d})),r.a.createElement(f.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();try{!function(e,t,a){console.log(a),fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(t){if(!t.ok)throw new Error("Error with POST at ".concat(e));return t.json()})).catch((function(e){throw e}))}("".concat("","/").concat("api/v1","/users"),g,{userName:o,password:d}),console.log("added")}catch(t){console.log(t.message)}}},"Submit")),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/"},"Home"),r.a.createElement(E,null,(function(e){return e.loggedIn?r.a.createElement("h3",null,"Logged In"):r.a.createElement("h3",null,"Not Logged In")})))},v=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],o=a[1],l=r.a.useState(""),u=Object(s.a)(l,2),m=u[0],d=u[1],h=r.a.useContext(i).checkUser;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"loginUserName"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:function(e){e.preventDefault(),o(e.target.value)},value:n})),r.a.createElement(p.a.Group,{controlId:"loginPassword"},r.a.createElement(p.a.Label,null,"New Password"),r.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){e.preventDefault(),d(e.target.value)},value:m})),r.a.createElement(f.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),h(n,m)}},"Submit")),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/"},"Home"),r.a.createElement(E,null,(function(e){return e.loggedIn?r.a.createElement("h3",null,"Logged In"):r.a.createElement("h3",null,"Not Logged In")})))},b=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],o=a[1],l=r.a.useState(""),u=Object(s.a)(l,2),i=u[0],m=u[1];return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"forgotPassUserName"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:function(e){e.preventDefault(),o(e.target.value)},value:n})),r.a.createElement(p.a.Group,{controlId:"forgotPassPassword"},r.a.createElement(p.a.Label,null,"New Password"),r.a.createElement(p.a.Control,{type:"password",placeholder:"New Password",onChange:function(e){e.preventDefault(),m(e.target.value)},value:i})),r.a.createElement(f.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();try{t="".concat("","/").concat("api/v1","/users/").concat(n),a={password:i},fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw new Error("Error with PATCH at ".concat(t));return e.json()})).catch((function(e){throw e})),console.log("Patched")}catch(r){console.log(r.message)}var t,a}},"Submit")),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/"},"Home"),r.a.createElement(E,null,(function(e){return e.loggedIn?r.a.createElement("h3",null,"Logged In"):r.a.createElement("h3",null,"Not Logged In")})))};var w=function(e){var t=r.a.useContext(i),a=t.users,n=t.setUsers,o=t.loggedIn;return r.a.useEffect((function(){fetch("http://localhost:3000/api/v1/users",{method:"GET","Content-Type":"application/json"}).then((function(e){return e.json()})).then((function(e){console.log(e),n(e)}))}),[]),r.a.createElement("div",null,a.map((function(e){return r.a.createElement("li",{key:e._id},e.userName)})),r.a.createElement("br",null),r.a.createElement(c.b,{to:"signup"},"Sign Up"),r.a.createElement("br",null),r.a.createElement(c.b,{to:"login"},"Login"),r.a.createElement("br",null),r.a.createElement(c.b,{to:"forgotpass"},"Forgot Password"),r.a.createElement("br",null),r.a.createElement(c.b,{to:"admin"},"Edit Users"),o?r.a.createElement("h3",null,"Logged In"):r.a.createElement("h3",null,"Not Logged In"))},y=a(17),C=a(16),j=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(e.user.userName),u=Object(s.a)(c,2),i=u[0],m=u[1],E=Object(n.useState)(e.user.password),d=Object(s.a)(E,2),h=d[0],g=d[1],v=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){return l(!0)}},"Edit"),r.a.createElement(C.a,{show:o,onHide:v},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,null,"Editing ".concat(i))),r.a.createElement(C.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"editUserModalUserName"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:function(e){e.preventDefault(),m(e.target.value)},value:i})),r.a.createElement(p.a.Group,{controlId:"editUserModalPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:function(e){e.preventDefault(),g(e.target.value)},value:h})))),r.a.createElement(C.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:v},"Cancel"),r.a.createElement(f.a,{variant:"primary",onClick:function(t){t.preventDefault();try{a="".concat("","/").concat("api/v1","/users/").concat(e.user.userName),n={userName:i,password:h},fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw new Error("Error with PUT at ".concat(a));return e.json()})).catch((function(e){throw e})),console.log("Updated")}catch(r){console.log(r.message)}var a,n;l(!1),e.refresh()}},"Save Changes"))))},O=function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{style:{width:"18rem"}},r.a.createElement(y.a.Img,{variant:"top",src:"holder.js/100px180"}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,e.user.userName),r.a.createElement(y.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(j,{user:e.user,refresh:e.refresh}),r.a.createElement(f.a,{variant:"primary",onClick:function(t){var a;(a="".concat("","/").concat("api/v1","/users/").concat(e.user.userName),e.user,fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error with DELETE at ".concat(a));return e.json()})).catch((function(e){throw e}))).then((function(t){e.refresh()})).catch((function(e){console.log(e.message)}))}},"Delete"))))},k=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],l=a[1],c=function(){var e;(e="".concat("","/").concat("api/v1","/users"),fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Error with GET at ".concat(e));return t.json()})).catch((function(e){throw e}))).then((function(e){l(e)})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Users"),o.map((function(e){return r.a.createElement(O,{key:e._id,user:e,refresh:c})})))};function S(){return r.a.createElement(m,null,r.a.createElement(c.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/signup",component:g}),r.a.createElement(u.b,{path:"/login",component:v}),r.a.createElement(u.b,{path:"/forgotpass",component:b}),r.a.createElement(h,{path:"/admin",component:k}),r.a.createElement(u.b,{path:"/",component:w}))))}var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.78310804.chunk.js.map